!function(a){function g(b,c){this.$el=a(b),this.options=a.extend({},f,c),this.init()}var e="mixpanelEvent",f={checkVal:!1,eventName:!1,callback:!1};g.prototype={setName:function(){return this.options.eventName===!1?this.$el.closest("[id]").attr("id"):this.options.eventName},getTimeStamp:function(){var a=new Date,b=a.toISOString().split(".");return b.pop(),b.join()},basicReport:function(){var a={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp()}};this.mixpanel(a)},trackArrival:function(b){var c={eventName:"PageViewSnapshot",properties:{"Time Sent":this.getTimeStamp()}};if(b){for(var d=a.isArray(b)?b:[b],e="",f=0,g=d.length;g>f;f++)e+=a(d[f]).val(),g-1>f&&(e+=", ");c.properties["Pre-selected"]=e}this.mixpanel(c)},trackSelect:function(){var a=this,b=this.$el.find(":selected").text(),c={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed To":"No Change: "+b.replace(/\s+/g," ")}},d=function(){var d=a.$el.find(":selected").text();b!==d&&(c.properties["Changed To"]=d.replace(/\s+/g," ")),a.mixpanel(c)};this.$el.bind("blur",d)},trackCheckbox:function(b){var c=b.target,d=c.checked?"checked":"unchecked",e={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),Action:a(c).val()+" was "+d}};this.mixpanel(e)},trackRadio:function(b){var c={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed To":a(b.target).val()}};this.mixpanel(c)},mixpanel:function(a){mixpanel.track(a.eventName,a.properties)},init:function(){var a=this.$el,b=this;return"function"==typeof this.options.callback?(a.click(function(c){b.options.callback(b,a,c)}),void 0):(a.is("body")?this.trackArrival(this.options.checkVal):a.is(":checkbox")?a.click(function(a){b.trackCheckbox(a)}):a.is(":radio")?a.click(function(a){b.trackRadio(a)}):a.is("select")?this.trackSelect():a.click(function(){b.basicReport()}),void 0)}},a.fn[e]=function(b){return this.each(function(){a.data(this,e)||a.data(this,e,new g(this,b))})}}(jQuery,window,document);