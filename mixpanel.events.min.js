(function(d,b,a,g){var c="mixpanelEvent",e={checkVal:false,eventName:false,callback:false};function f(i,h){this.$el=d(i);this.options=d.extend({},e,h);this.init()}f.prototype={setName:function(){return(this.options.eventName===false)?this.$el.closest("[id]").attr("id"):this.options.eventName},getTimeStamp:function(){var h=new Date(),h=h.toISOString(),h=h.split(".");h.pop();return h.join()},basicReport:function(){var h={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp()}};this.mixpanel(h)},trackArrival:function(m){var j={eventName:"PageViewSnapshot",properties:{"Time Sent":this.getTimeStamp()}};if(m){var n=d.isArray(m)?m:[m],l="",k=0,h=n.length;for(;k<h;k++){l+=d(n[k]).val();if(k<h-1){l+=", "}}j.properties["Pre-selected"]=l}this.mixpanel(j)},trackSelect:function(){var j=this,i=this.$el.find(":selected").text(),h={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed To":"No Change: "+i.replace(/\s+/g," ")}},k=function(){var l=j.$el.find(":selected").text();if(i!==l){h.properties["Changed To"]=l.replace(/\s+/g," ")}j.mixpanel(h)};this.$el.bind("blur",k)},trackCheckbox:function(j){var i=j.target,k=i.checked?"checked":"unchecked",h={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),Action:d(i).val()+" was "+k}};this.mixpanel(h)},trackRadio:function(j){var i=this.$el.siblings(":checked"),h=d(j.target);result={eventName:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed From":(typeof i.val()!=="undefined")?i.val():"unselected","Changed To":h.val()}};i.prop("checked",false);h.prop("checked",true);this.mixpanel(result)},mixpanel:function(h){mixpanel.track(h.eventName,h.properties)},init:function(){var h=this.$el,i=this;if(typeof this.options.callback==="function"){this.options.callback(this,this.$el);return}if(h.is("body")){this.trackArrival(this.options.checkVal)}else{if(h.is(":checkbox")){h.click(function(j){i.trackCheckbox(j)})}else{if(h.is(":radio")){h.on("mousedown",function(j){i.trackRadio(j)})}else{if(h.is("select")){this.trackSelect()}else{h.click(function(){i.basicReport()})}}}}}};d.fn[c]=function(h){return this.each(function(){if(!d.data(this,c)){d.data(this,c,new f(this,h))}})}}(jQuery,window,document));