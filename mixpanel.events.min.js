!function(a){function g(b,c){this.$el=a(b),this.options=a.extend({},f,c),this.init()}var e="mixpanelEvent",f={checkVal:!1,eventName:!1,callback:!1};g.prototype={setName:function(){return this.options.eventName===!1?this.$el.closest("[id]").attr("id"):this.options.eventName},getTimeStamp:function(){var a=new Date,a=a.toISOString(),a=a.split(".");return a.pop(),a.join()},basicReport:function(){var a={eventType:this.setName(),properties:{"Time Sent":this.getTimeStamp()}};this.mixpanel(a)},trackArrival:function(b){var c={eventType:"PageViewSnapshot",properties:{"Time Sent":this.getTimeStamp()}};if(b){for(var d=a.isArray(b)?b:[b],e="",f=0,g=d.length;g>f;f++)e+=a(d[f]).val(),g-1>f&&(e+=", ");c.properties["Pre-selected"]=e}this.mixpanel(c)},trackSelect:function(){var a=this,b=this.$el.find(":selected").text(),c={eventType:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed To":"No Change: "+b.replace(/\s+/g," ")}},d=function(){var d=a.$el.find(":selected").text();b!==d&&(c.properties["Changed To"]=d.replace(/\s+/g," ")),a.mixpanel(c)};this.$el.bind("blur",d)},trackCheckbox:function(b){var c=b.target,d=c.checked?"checked":"unchecked",e={eventType:this.setName(),properties:{"Time Sent":this.getTimeStamp(),Action:a(c).val()+" was "+d}};this.mixpanel(e)},trackRadio:function(b){var c=this.$el.siblings(":checked"),d=a(b.target);result={eventType:this.setName(),properties:{"Time Sent":this.getTimeStamp(),"Changed From":"undefined"!=typeof c.val()?c.val():"unselected","Changed To":d.val()}},c.prop("checked",!1),d.prop("checked",!0),this.mixpanel(result)},mixpanel:function(a){mixpanel.track(a.eventType,a.properties)},init:function(){var a=this.$el,b=this;return"function"==typeof this.options.callback?(this.options.callback(this,this.$el),void 0):(a.is("body")?this.trackArrival(this.options.checkVal):a.is(":checkbox")?a.click(function(a){b.trackCheckbox(a)}):a.is(":radio")?a.on("mousedown",function(a){b.trackRadio(a)}):a.is("select")?this.trackSelect():a.click(function(){b.basicReport()}),void 0)}},a.fn[e]=function(b){return this.each(function(){a.data(this,e)||a.data(this,e,new g(this,b))})}}(jQuery,window,document);